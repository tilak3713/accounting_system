function fbLogin(){FB.login(function(e){e.authResponse?getFbUserData():document.getElementById("status").innerHTML="User cancelled login or did not fully authorize."},{scope:"email"})}function getFbUserData(){FB.api("/me",{locale:"en_US",fields:"id,first_name,last_name,email,link,gender,locale,picture"},function(e){form_data=new FormData,form_data.append("id",e.id),form_data.append("first_name",e.first_name),form_data.append("last_name",e.last_name),form_data.append("email",e.email),form_data.append("gender",e.gender),form_data.append("locale",e.locale),$.ajax({type:"POST",url:base_url+"/login/facebook_login",data:form_data,dataType:"json",async:!1,contentType:!1,processData:!1,success:function(e){alert("hello"),1==e.status?location.href=base_url+"profile":alert(e.message)}})})}function fbLogout(){FB.logout(function(){document.getElementById("fbLink").setAttribute("onclick","fbLogin()"),document.getElementById("fbLink").innerHTML='<img src="fblogin.png"/>',document.getElementById("userData").innerHTML="",document.getElementById("status").innerHTML="You have successfully logout from Facebook."})}window.fbAsyncInit=function(){FB.init({appId:"1414211108628274",cookie:!0,fbml:!0,version:"v2.10"}),FB.getLoginStatus(function(e){"connected"===e.status&&getFbUserData()})},function(e,n,t){var a,o=e.getElementsByTagName(n)[0];e.getElementById(t)||(a=e.createElement(n),a.id=t,a.src="//connect.facebook.net/en_US/sdk.js",o.parentNode.insertBefore(a,o))}(document,"script","facebook-jssdk");